system:
  login_to_page:
    prompt: "
    You are an automated web agent operating a browser via provided functions.

    Goal:
    Log into the website using the provided user credentials.

    Instructions:
    1. If the current page is not a login page, navigate to the login page.
    2. Before interacting with the page, handle blocking popups (e.g. cookie consent dialogs) by accepting them if present.
    3. Locate the input field for the user email and fill it with the provided email value.
    4. Locate the input field for the user password and fill it with the provided password value.
    5. Submit the login form.

    Completion criteria:
    - Consider the task successful when the page indicates a logged-in state (e.g. dashboard, user avatar, or logout button visible).
    - If login fails or required elements are not found, stop and report the failure.

    Rules:
    - Use only the provided functions to interact with the page.
    - Do not invent actions or assume state changes without verification.
    - Do not continue indefinitely.
    "
  navigate_to_job_listing_page:
    prompt: "
    You are an automated web agent operating a browser using the provided functions.

    Goal:
    Navigate to a job listing page that displays multiple IT job offers.

    Instructions:
    1. Navigate to a page that lists IT job offers.
    2. If blocking popups appear (e.g. cookie consent or modal dialogs), close or accept them so that the page content is accessible.
    3. Verify that the page contains multiple job offer tiles/cards.

    A job listing page is defined as a page where:
    - Multiple job offer tiles are visible.
    - Each tile contains at least a job title and a company name.
    - The offers are related to IT roles (e.g. software, developer, data, engineering).

    Completion criteria:
    - Consider the task successful when at least several job offer tiles matching the above criteria are visible on the page.
    - If such a page cannot be reached, stop and report failure.

    Rules:
    - Use only the provided functions to interact with the page.
    - Do not assume content is present without verification.
    - Do not continue indefinitely.
    "

  next_page_button:
    prompt: "
    You are an automated web agent operating a browser using the provided functions.

    Goal:
    Load additional job offers from the current job listing page.

    Instructions:
    1. Inspect the page for mechanisms that load more job offers, including:
       - A pagination control (e.g. 'Next page', page numbers).
        - A 'Load more' button.
        - Infinite scroll behavior.

    2. Choose the first applicable mechanism in the following priority order:
      a) 'Load more' button.
      b) Pagination to the next page.
      c) Infinite scroll (scroll down to trigger loading).

      3. Perform the selected action to load more job offers.

      4. Verify that additional job offer tiles have appeared compared to the previous state.

    Completion criteria:
      - Consider the task successful if new job offer tiles are loaded and visible.
      - If no mechanism to load additional offers exists, or if performing the action does not result in additional offers, stop and report failure.

    Rules:
      - Use only the provided functions to interact with the page.
      - Do not repeat the same action indefinitely.
      - Do not assume success without verifying that new offers are visible.
    "

    get_attributes:
      prompt: "
    I will give you an HTML snippet. Return only its identifying attributes.
    Do not explain, only return JSON.
    "

user:
  llm_verify_output:
    prompt: "
    Verify if right element from website was chosen comparing element data:
    {inner_texts}, {attributes}, and prompt: '{prompt}'. Return 'True' if right
    element was chosen, otherwise 'False'.
    "
    params:
      - inner_texts
      - attributes
      - prompt

  llm_select_element:
    prompt: "
    Compare and choose one locator from these that suit the prompt the most, return
    only the number, that represents the locator in the list, list starts from index
    0.
    "
  email_field:
    prompt: "Find input field for username/email."

  password_field:
    prompt: "Find input field for password."

  next_login_page:
    prompt: "Find button that moves to next part of login page."

  sign_in_button:
    prompt: "Find the sign in/login button or button that moves to next part of login page."

  is_login_page:
    prompt: "
    Determine if this site is a login page based upon its source code and url, it
    should contain input field for user's email, sometimes login page contains
    password field too, return only True or False. url: {url}\npage: {page}
    "
    params:
      - url
      - page

  navigate_to_login_page:
    prompt: "
    Find a button/link that opens login page for a job candidate, where user logins
    using email and password or menu that lets user open login page
    "

  navigate_to_login_page_with_params:
    prompt: "
    Find a button/link that opens login page for a job candidate, where user logins
    using email and password or menu that lets user open login page. Those are
    elements that were used in a previous steps, do not use them again:
    {attribute_list}
    "
    params:
      - attribute_list

  cookies_button:
    prompt: "
    Find button that accepts cookies or closes the cookie consent banner. If
    multiple buttons exist, choose the one that makes the popup disappear
    "

  check_if_popup_exists:
    prompt: "
    Check if popup banner exists on this page. If it exists return 'True' else return 'False'. Page: {page}
    "
    params:
      - page

  popup_button:
    prompt: "
    Find button that closes the popup banner. If multiple buttons exist, choose the
    one that makes the popup disappear
    "

  is_job_listing_page:
    prompt: "
    You are analyzing a web page to determine whether it is strictly a job listing page.

    A job listings page is a page that displays a list of multiple open positions or links to individual job offers.
    It is NOT:
    - A single job offer page (showing details for one position)
    - A company homepage or careers landing page without listings
    - A user account webpage, where there can also be some job postings or user saved jobs
    - A blog, article, or unrelated content

    Return only one word: True or False

    Base your decision on both the URL and the visible page content.

    URL: {url}
    Page content: {page}
    "
    params:
      - url
      - page

  job_listing_page_button:
    prompt: "
    Your task is to navigate to the job listings page.
    Identify and select the most relevant UI element (button, link, navigation item, or menu entry) that leads to the page where open job positions are listed.
    When selecting an element, prioritize:
    Visible elements containing text such as: 'Jobs', 'Careers', 'Join Us', 'Vacancies', 'Open Positions', 'Work With Us'.
    If the element is inside a navigation menu or dropdown, expand it first.
    If multiple eligible elements exist, choose the one that appears most prominent in the main navigation.
    Fallbacks:
    – If no explicit job-related element is found, open any menu that may contain such items (e.g., 'Company', 'Jobs') and re-evaluate elements inside it.
    – If the job listings page is already displayed, take no action.
    "

  job_listing_page_button_with_params:
    prompt: "
    Your task is to navigate to the job listings page.
    Identify and select the most relevant UI element (button, link, navigation item, or menu entry) that leads to the page where open job positions are listed.
    When selecting an element, prioritize:
    Visible elements containing text such as: 'Jobs', 'Careers', 'Join Us', 'Vacancies', 'Open Positions', 'Work With Us'.
    If the element is inside a navigation menu or dropdown, expand it first.
    If multiple eligible elements exist, choose the one that appears most prominent in the main navigation.
    Fallbacks:
    – If no explicit job-related element is found, open any menu that may contain such items (e.g., 'Company', 'Jobs') and re-evaluate elements inside it.
    – If the job listings page is already displayed, take no action.
    Those are elements that were used in a previous steps, do not use
    them again: {attribute_list}
    "
    params: attribute_list

  footer:
    prompt: "
    Find a footer of a website, if there is no footer find an element that is at the
    bottom of the page, so once in view port it loads all of the page content
    "

  job_offer_links:
    prompt: "
    Find <a> element inside job tiles of job offers that take user to job offer pages.
    A job offer link typically:
    - Contains the job title text, or
    - Has an href that includes words like \"job\", \"jobs\", \"careers\", \"position\", or \"opportunity\"
    and
    - Does NOT link to saving, sharing, applying, or company info.
    "


  job_offer_info:
    prompt: "
    Retrieve all information about this job offer from this page: {page}
    "
    params:
      - page

    determine_if_offer_valuable:
      prompt: "
      Compare user qualifications and needs:
      {user_needs}
      -
      With these from job offer:
      - title: {title}
      - Company name: {company_name}
      - Requirements: {requirements}
      - Duties: {duties}
      - About project: {about_project}
      - Offer benefits: {offer_benefits}
      - Location: {location}
      - Contract type: {contract_type}
      - Employment type: {employment_type}
      - Work arrangement: {work_arrangement}
      - Additional information: {additional_information}
      Return only one word, True if I should apply, and False if not and
      no other words/characters
      "
      params:
